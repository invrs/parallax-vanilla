!function(e){"use strict";"undefined"==typeof pv?(e.pv=function(){function o(){t.updateWindowProps_OnRaf(),t.translate(),raf(o)}var t={};return t.stringOfIntegers=function(e){return/^[0-9]+$/.test(e)},t.transform=function(e,o){e.style.webkitTransform=o,e.style.MozTransform=o,e.style.msTransform=o,e.style.OTransform=o,e.style.transform=o},t.paraArr=[],t.windowProps={scrollTop:e.scrollY,windowHeight:e.innerHeight,windowMidHeight:e.innerHeight/2},t.updateWindowProps_OnRaf=function(){t.windowProps.scrollTop=e.scrollY||document.documentElement.scrollTop},t.updateWindowProps_OnResize=function(){t.windowProps.scrollTop=e.scrollY||document.documentElement.scrollTop,t.windowProps.windowHeight=e.innerHeight,t.windowProps.windowMidHeight=e.innerHeight/2},t.offsetTop=function(o){return o.getBoundingClientRect().top+(e.pageYOffset||document.documentElement.scrollTop)},t.init=function(e){var o={container:{class:"pv-container",height:"250px"},block:{class:"pv-block",speed:-Math.PI,image:void 0}};void 0===e?e=o:(void 0===e.container?e.container=o.container:(void 0===e.container.class&&(e.container.class=o.container.class),void 0===e.container.height&&(e.container.height=o.container.height)),void 0===e.block?e.block=o.block:(void 0===e.block.class&&(e.block.class=o.block.class),void 0===e.block.speed&&(e.block.speed=o.block.speed),void 0===e.block.image&&(e.block.image=o.block.image)));for(var n=document.getElementsByClassName(e.container.class),i=0;i<n.length;i++){var r={},s={};s.el=n[i],s.offset=t.offsetTop(s.el);var l=s.el.getAttribute("pv-height");null==l?s.el.style.height=e.container.height:t.stringOfIntegers(l)?s.el.style.height=l+"px":s.el.style.height=l,s.height=s.el.clientHeight,r.container=s,r.blocks=[];for(var a=n[i].getElementsByClassName(e.block.class),c=0;c<a.length;c++){var d={};d.el=a[c];var p=d.el.getAttribute("pv-speed");d.speed=null==p?e.block.speed:0==p||0==p||0==p?e.block.speed:p;var h=d.el.getAttribute("pv-image");null==h?void 0!==e.block.image&&(d.el.style.backgroundImage="url('"+e.block.image+"')"):d.el.style.backgroundImage="url('"+h+"')";var g=0,w=0,f=0;s.offset<t.windowProps.windowHeight?(w=(s.height+s.offset)/Math.abs(d.speed),d.speed>0?(g=-Math.abs(s.offset),f=s.height+s.offset):f=w+s.height):(f=(w=(s.height+t.windowProps.windowHeight)/Math.abs(d.speed))+s.height,d.speed>0?(g=-w,f=s.height+t.windowProps.windowHeight/Math.abs(d.speed)):f=w+s.height),Math.abs(g)>=Math.abs(f)&&(f=Math.abs(g)+1),d.el.style.setProperty("padding-bottom",f+"px",null),d.el.style.setProperty("margin-top",g+"px",null),r.blocks.push(d)}t.paraArr.push(r)}},t.isInViewport=function(e,o){return t.windowProps.scrollTop+t.windowProps.windowHeight-e>0&&t.windowProps.scrollTop<e+o},t.translate=function(){for(var e=0;e<t.paraArr.length;e++){var o=t.paraArr[e].container;if(t.isInViewport(o.offset,o.height)){if(o.offset<t.windowProps.windowHeight)n=t.windowProps.scrollTop;else var n=t.windowProps.windowHeight-o.offset+t.windowProps.scrollTop;for(var i=0;i<t.paraArr[e].blocks.length;i++){var r=t.paraArr[e].blocks[i];t.transform(r.el,"translate3d(0,"+Math.round(n/r.speed)+"px, 0)")}}}},e.onresize=function(){t.updateWindowProps_OnResize(),t.init()},e.raf=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(o){e.setTimeout(o,1e3/60)},raf(o),t}(),console.log("%c parallax-vanilla defined.","color: green")):console.log("%c parallax-vanilla already defined.","color: red")}(window);
